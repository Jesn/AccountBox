# Feature Specification: 网站列表表格视图

**Feature Branch**: `002-http-localhost-5173`
**Created**: 2025-10-16
**Status**: Draft
**Input**: User description: "http://localhost:5173/websites 页面需要改成table的方式展示,后续我会加入很多的站点进来,通过这种列表的方式不够集中显示"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 查看大量网站的表格视图 (Priority: P1)

用户访问网站管理页面时,看到所有网站以表格形式展示,每行显示一个网站的关键信息,可以快速浏览和定位特定网站。

**Why this priority**: 这是核心需求,解决当前卡片布局在显示大量网站时占用过多空间、信息密度低的问题。表格视图能够在同一屏幕内展示更多网站信息。

**Independent Test**: 可以通过添加20+个网站后访问页面,验证表格视图能够在一屏内显示更多网站,并且所有关键信息(显示名、域名、标签、账号数量)都清晰可见。

**Acceptance Scenarios**:

1. **Given** 用户已登录且有10个以上的网站, **When** 访问网站管理页面, **Then** 看到以表格形式展示的网站列表,包含列标题(显示名、域名、标签、活跃账号数、操作)
2. **Given** 用户查看网站表格, **When** 浏览表格内容, **Then** 每行显示一个网站的完整信息,信息对齐且易于阅读
3. **Given** 网站表格中有多条记录, **When** 用户向下滚动, **Then** 表头保持固定在顶部,内容可滚动

---

### User Story 2 - 在表格中执行网站操作 (Priority: P2)

用户可以在表格的每一行快速执行操作(查看账号、编辑、删除),而无需打开单独的卡片或页面。

**Why this priority**: 保持现有功能的可用性,确保从卡片视图切换到表格视图后,用户仍然可以方便地管理网站。

**Independent Test**: 在表格视图中点击任意网站行的"查看账号"、"编辑"、"删除"按钮,验证相应的对话框打开且功能正常。

**Acceptance Scenarios**:

1. **Given** 用户查看网站表格, **When** 点击某行的"查看账号"按钮, **Then** 导航到该网站的账号列表页面
2. **Given** 用户查看网站表格, **When** 点击某行的"编辑"按钮, **Then** 打开编辑对话框并预填充该网站信息
3. **Given** 用户查看网站表格, **When** 点击某行的"删除"按钮, **Then** 打开删除确认对话框
4. **Given** 表格中的操作按钮, **When** 鼠标悬停在按钮上, **Then** 按钮有明显的视觉反馈

---

### User Story 3 - 空状态和加载状态的友好提示 (Priority: P3)

当网站列表为空或正在加载时,用户看到友好的提示信息,引导用户添加第一个网站或等待加载完成。

**Why this priority**: 提升用户体验,避免用户在空白或加载状态下感到困惑。

**Independent Test**: 清空所有网站后访问页面,验证显示"添加第一个网站"的空状态提示;刷新页面时验证显示加载中状态。

**Acceptance Scenarios**:

1. **Given** 用户没有任何网站, **When** 访问网站管理页面, **Then** 显示空状态提示和"添加第一个网站"的按钮
2. **Given** 用户访问网站管理页面, **When** 数据正在加载, **Then** 显示加载中的状态指示器
3. **Given** 显示空状态提示, **When** 点击"添加第一个网站"按钮, **Then** 打开创建网站对话框

---

### Edge Cases

- 当网站的显示名或域名非常长时(超过50个字符),表格单元格如何显示?应该截断并显示省略号,鼠标悬停时显示完整内容。
- 当网站有10个以上的标签时,标签列如何显示?应该显示前几个标签并用"..."表示还有更多,或使用标签徽章折叠显示。
- 当用户的屏幕宽度较小(如平板或小笔记本)时,表格如何响应?应该支持横向滚动或隐藏次要列(如标签列)。
- 当回收站中的账号数量为0时,是否显示该列?应该始终显示回收站列,但为0时显示为0而不是隐藏列。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统必须将网站列表从卡片布局改为表格布局,包含列标题:显示名、域名、标签、活跃账号数、回收站账号数、操作
- **FR-002**: 表格每行必须显示一个网站的完整信息,包括显示名(或域名作为备用)、域名、标签、活跃账号数、回收站账号数
- **FR-003**: 表格必须在每行的操作列提供三个按钮:"查看账号"、"编辑"、"删除"
- **FR-004**: 用户点击"查看账号"按钮时,系统必须导航到该网站的账号列表页面
- **FR-005**: 用户点击"编辑"按钮时,系统必须打开编辑网站对话框并预填充该网站信息
- **FR-006**: 用户点击"删除"按钮时,系统必须打开删除确认对话框
- **FR-007**: 当网站列表为空时,系统必须显示空状态提示和"添加第一个网站"的行动号召按钮
- **FR-008**: 当网站列表正在加载时,系统必须显示加载状态指示器
- **FR-009**: 表格标题行必须在用户向下滚动时保持固定在顶部(可选实现,取决于内容长度)
- **FR-010**: 系统必须保持现有的分页功能,表格底部显示分页器
- **FR-011**: 表格必须支持响应式布局,在较小屏幕上适当调整显示

### Key Entities

- **Website**: 表示一个网站条目,包含显示名、域名、标签、活跃账号数、回收站账号数等属性
- **Table Row**: 表示表格中的一行,对应一个网站实体,包含所有可显示字段和操作按钮

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 在同样的屏幕尺寸下,表格视图能够显示的网站数量至少是卡片视图的2倍
- **SC-002**: 用户能够在3秒内完成表格视图的视觉扫描,快速定位目标网站(基于常规20个网站的场景)
- **SC-003**: 表格中的所有操作按钮(查看账号、编辑、删除)响应时间保持在现有水平,无性能下降
- **SC-004**: 表格在包含100个网站时,页面渲染时间不超过2秒(配合分页功能)
- **SC-005**: 95%的用户能够在首次使用时成功完成网站的查看、编辑或删除操作

## Assumptions & Dependencies *(optional)*

### Assumptions

- 假设现有的网站数据结构和API接口保持不变,无需后端修改
- 假设用户主要在桌面浏览器上使用此功能,但需要基本的响应式支持
- 假设表格组件使用现有的UI组件库(shadcn/ui或类似),无需从头构建
- 假设表格中的排序和筛选功能在本功能范围之外,后续可以作为独立功能添加

### Dependencies

- 依赖现有的websiteService API用于获取网站列表数据
- 依赖现有的分页组件(Pagination)用于表格底部的分页
- 依赖现有的对话框组件(CreateWebsiteDialog, EditWebsiteDialog, DeleteWebsiteDialog)用于操作
- 依赖现有的按钮和表格UI组件库(shadcn/ui)

## Out of Scope *(optional)*

### Explicitly Not Included

- 表格列的排序功能(点击列标题排序)
- 表格内容的筛选和搜索功能
- 表格列的自定义显示/隐藏
- 表格数据的导出功能(CSV/Excel)
- 批量选择和批量操作网站
- 表格和卡片视图之间的切换功能(本次完全替换为表格)

这些功能可以在未来作为增强功能添加,但不在本次功能范围内。
